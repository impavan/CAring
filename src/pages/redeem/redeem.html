<div>
    <header></header>
</div>


<ion-content class="mainCont">
    <div class="redeemDetailsContainer">
        <figure class="fixedImage">
            <img src="{{redeemList[0]?.MasterCreativePath}}" />

        </figure>
        <div class="content p0">
            <article>
                <h1>{{redeemList[0].Title}}</h1>
                <p [innerHTML]="redeemList[0]?.Description"></p>
                <hr/>
            </article>
        </div>
        <h6 class="subTitle">Available</h6>
        <!--<ul *ngFor="let reward of redeemList" class="listMyPoints">
            <li *ngIf="reward?.RedeemStatus == 0 && currentDate <= reward.ExpiryDate ">
                <label>{{reward.VoucherCode}}</label>
                <span>{{reward?.ExpiryDate | date:'dd/MM/yyyy' }}</span>
                
            </li>
        </ul>-->
        <div  *ngFor="let reward of redeemList" class="listMyPointsOut">
        <ion-grid *ngIf="reward?.Cap_RedeemStatus == 0 && currentDate <= reward.ExpiryDate">
            <ion-row >
                <ion-col class="text-center"> <span class="subTxt">{{reward.VoucherCode}}  </span></ion-col>
                <ion-col class="text-center"><span class="subTxt">{{reward?.ExpiryDate | date:'dd/MM/yyyy' }}</span></ion-col>
                <ion-col class="text-center colAlign"><button ion-button class="btnSmall" (click)="openModel(reward)">Use</button></ion-col>
            </ion-row>
        </ion-grid>
        </div>
        <hr/>
        <h6 class="subTitle">Used </h6>
        <div *ngFor="let reward of redeemList" class="listMyPointsOut">
        <ion-grid *ngIf="reward?.Cap_RedeemStatus == 1">
           <ion-row>
                <ion-col class="text-center"><span class="subTxt">{{reward.VoucherCode}}</span></ion-col>
                <ion-col class="text-center"><span class="subTxt">{{reward?.ExpiryDate | date:'dd/MM/yyyy'}}</span></ion-col>
                <ion-col class="text-center"></ion-col>
           </ion-row>
        </ion-grid>
        </div>
        <hr/>
        <h6 class="subTitle">Expired </h6>
        <div *ngFor="let reward of redeemList" class="listMyPointsOut">
        <ion-grid *ngIf="reward?.Cap_RedeemStatus == 0 && currentDate > reward?.ExpiryDate">
            <ion-row>
                <ion-col class="text-center"><span class="subTxt">{{reward.VoucherCode}}</span></ion-col>
                <ion-col class="text-center"><span class="danger subTxt">{{reward?.ExpiryDate |  date:'dd/MM/yyyy'}}</span></ion-col>
                <ion-col class="text-center"></ion-col>
            </ion-row>
        </ion-grid>
        </div>
    </div>
</ion-content>




<ion-footer>
    <ion-toolbar>
        <page-tabs></page-tabs>
    </ion-toolbar>
</ion-footer>

<mymodal #redeem>
    <!--<h2 class="errorInfo"></h2>-->
    <p>Are you sure you want use {{ redeemList[0]?.Title}}?</p>
    <ion-grid>
        <div style="text-align:center">
            <h4 style="color:red">(Strictly for cashier use)</h4>
            </div>
        <ion-row>
            <ion-col col-6>
                <button ion-button class="btn2 cancelBtn" (click)="cancelRedeem()">Cancel</button>
            </ion-col>
            <ion-col col-6>
                <button ion-button class="btn2" (click)="confirmRedeem()">Continue</button>
            </ion-col>
        </ion-row>
    </ion-grid>
</mymodal>

<mymodal #ActiveVoucher>
    <!--<h2 class="errorInfo"></h2>-->
    <p>Here is your barcode to scan</p>
    <div style="text-align:center">
      <h4 style="color:red">(Strictly for cashier use)</h4>
    </div>
    <div class="barCode">
        <svg #barcode id="barcode"></svg>
    </div>
  <button ion-button class="btn2" block (click)="getMyLatestRewards()">OK</button> 
</mymodal>